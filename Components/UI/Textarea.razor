<textarea class="@GetClasses()" 
          placeholder="@Placeholder" 
          @bind="@Value" 
          @bind:event="oninput"
          disabled="@Disabled"
          rows="@Rows"
          @attributes="AdditionalAttributes"></textarea>

@code {
    [Parameter] public string? Value { get; set; }
    [Parameter] public EventCallback<string> ValueChanged { get; set; }
    [Parameter] public string? Placeholder { get; set; }
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public int Rows { get; set; } = 3;
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string GetClasses()
    {
        var classes = new List<string>
        {
            "block",
            "w-full",
            "px-4",
            "py-3",
            "border",
            "border-gray-300",
            "rounded-lg",
            "resize-none",
            "focus:ring-2",
            "focus:ring-blue-500",
            "focus:border-blue-500",
            "transition-colors",
            "duration-200",
            "placeholder-gray-400"
        };

        if (Disabled)
        {
            classes.AddRange(new[] { "opacity-50", "cursor-not-allowed", "bg-gray-50" });
        }

        return string.Join(" ", classes);
    }
}
